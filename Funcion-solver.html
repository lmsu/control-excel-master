<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Luis M. Salinas">
    <title>Laboratorio de Simulaci√≥n - Solver en Planta Cementera</title>
    <style>
        :root {
            --espaciado-ppal: 15px;
            --borde-radio: 8px;
            --sombra-nav: 0 4px 6px rgba(0, 0, 0, 0.1);
            --sombra-card: 0 2px 8px rgba(0,0,0,0.1);
        }

        .theme-es { --color-ppal: #00796b; --color-secundario: #004d40; --color-fondo: #e0f2f1; --color-texto: #004d40; }
        .theme-en { --color-ppal: #00897b; --color-secundario: #00695c; --color-fondo: #e8f5f2; --color-texto: #004d40; }
        .theme-ca { --color-ppal: #009688; --color-secundario: #00796b; --color-fondo: #e0f7fa; --color-texto: #006064; }
        .theme-fr { --color-ppal: #26a69a; --color-secundario: #00897b; --color-fondo: #e0f2f1; --color-texto: #004d40; }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--color-fondo);
            color: var(--color-texto);
            line-height: 1.6;
            padding-bottom: 40px;
        }
        a { text-decoration: none; color: inherit; }

        header {
            background-color: var(--color-ppal);
            box-shadow: var(--sombra-nav);
            padding: 0 var(--espaciado-ppal);
            margin-bottom: 25px;
        }
        .header-top {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 0;
            text-align: center;
            color: white;
        }
        .img-office {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid white;
            margin-bottom: 12px;
        }
        .header-top h1 { font-size: 1.6rem; margin: 0; }

        .language-selector {
            display: flex;
            gap: 6px;
            margin-top: 15px;
        }
        .language-selector button {
            background: none;
            border: 1px solid white;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
        }
        .language-selector button.active {
            background: white;
            color: var(--color-ppal);
            font-weight: bold;
        }

        .contenido-ppal {
            display: flex;
            gap: 25px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--espaciado-ppal);
        }
        .panel-izq, .panel-der {
            background: white;
            border-radius: var(--borde-radio);
            box-shadow: var(--sombra-card);
            padding: 20px;
        }
        .panel-izq { flex: 1; }
        .panel-der { flex: 1.2; }

        .composicion-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        .composicion-table th, .composicion-table td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
        }
        .composicion-table th { background-color: #f0f0f0; }

        .input-row {
            display: flex;
            align-items: center;
            margin: 12px 0;
        }
        .input-row label {
            width: 180px;
            font-weight: bold;
        }
        .input-row input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .resultados {
            margin-top: 25px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: var(--borde-radio);
            border-left: 4px solid var(--color-ppal);
        }
        .resultado-item {
            margin: 8px 0;
            font-size: 1.1em;
        }
        .valor-indice {
            font-weight: bold;
            color: var(--color-secundario);
        }
        .rango-ok { color: #2e7d32; font-weight: bold; }
        .rango-warning { color: #e53935; font-weight: bold; }

        .sect-ppal {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 var(--espaciado-ppal);
        }
        .sect-ppal h2 {
            color: var(--color-ppal);
            margin-bottom: 15px;
            text-align: center;
        }
        .objetivos-list {
            background: white;
            padding: 20px;
            border-radius: var(--borde-radio);
            box-shadow: var(--sombra-card);
            margin-top: 15px;
        }
        .objetivos-list ul { padding-left: 20px; }
        .objetivos-list li { margin-bottom: 8px; }

        .app-footer {
            background-color: #37474f;
            color: white;
            padding: 25px 0;
            text-align: center;
            margin-top: 40px;
        }
        .contenido-pie { max-width: 1200px; margin: 0 auto; padding: 0 var(--espaciado-ppal); }
        .footer-links a {
            color: #b0bec5;
            margin: 0 8px;
            font-size: 0.85em;
            white-space: nowrap;
        }
        .footer-links a:hover { color: white; }

        @media (max-width: 900px) {
            .contenido-ppal {
                flex-direction: column;
            }
        }
    </style>
</head>
<body class="theme-es">
    <header>
        <div class="header-top">
            <img src="Aula virtual de clase.png" alt="Luis Salinas" class="img-office">
            <h1 data-lang-key="titulo">Laboratorio de Simulaci√≥n: Optimizaci√≥n de Mezcla Cruda</h1>
            <div class="language-selector">
                <button data-lang="es">ES</button>
                <button data-lang="en">EN</button>
                <button data-lang="ca">CA</button>
                <button data-lang="fr">FR</button>
            </div>
        </div>
    </header>

    <main>
        <div class="sect-ppal">
            <h2 data-lang-key="descripcion">Simulaci√≥n con Solver para Planta Cementera</h2>
            <p data-lang-key="intro">Ajusta las proporciones de materias primas para cumplir con los √≠ndices qu√≠micos √≥ptimos del cl√≠nker y minimizar costos. ¬°Este entorno emula c√≥mo usar Solver en Excel para optimizaci√≥n industrial!</p>
            
            <div class="objetivos-list">
                <strong data-lang-key="objetivos-titulo">Objetivos del Solver:</strong>
                <ul>
                    <li id="obj-lsf">LSF entre 92‚Äì98</li>
                    <li id="obj-sm">M√≥dulo de s√≠lice (SM) entre 2.2‚Äì2.8</li>
                    <li id="obj-am">M√≥dulo de al√∫mina (AM) entre 1.3‚Äì1.8</li>
                    <li id="obj-mincost">Minimizar costo total por tonelada</li>
                </ul>
            </div>
        </div>

        <div class="contenido-ppal">
            <div class="panel-izq">
                <h3 data-lang-key="materias-primas">Materias Primas</h3>
                <table class="composicion-table">
                    <thead>
                        <tr>
                            <th data-lang-key="material">Material</th>
                            <th>CaO (%)</th>
                            <th>SiO‚ÇÇ (%)</th>
                            <th>Al‚ÇÇO‚ÇÉ (%)</th>
                            <th>Fe‚ÇÇO‚ÇÉ (%)</th>
                            <th data-lang-key="costo">Costo (‚Ç¨/t)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-lang-key="caliza">Caliza</td>
                            <td>52.0</td>
                            <td>2.5</td>
                            <td>1.2</td>
                            <td>0.3</td>
                            <td>8</td>
                        </tr>
                        <tr>
                            <td data-lang-key="arcilla">Arcilla</td>
                            <td>5.0</td>
                            <td>62.0</td>
                            <td>18.0</td>
                            <td>5.0</td>
                            <td>15</td>
                        </tr>
                        <tr>
                            <td data-lang-key="arena">Arena</td>
                            <td>1.0</td>
                            <td>95.0</td>
                            <td>2.0</td>
                            <td>0.5</td>
                            <td>10</td>
                        </tr>
                        <tr>
                            <td data-lang-key="mineral-hierro">Mineral de Hierro</td>
                            <td>3.0</td>
                            <td>10.0</td>
                            <td>5.0</td>
                            <td>80.0</td>
                            <td>25</td>
                        </tr>
                    </tbody>
                </table>

                <h3 style="margin-top:25px;" data-lang-key="proporciones">Proporciones (%)</h3>
                <div class="input-row">
                    <label data-lang-key="caliza">Caliza:</label>
                    <input type="number" id="caliza" value="80" min="0" max="100" step="0.1">
                </div>
                <div class="input-row">
                    <label data-lang-key="arcilla">Arcilla:</label>
                    <input type="number" id="arcilla" value="15" min="0" max="100" step="0.1">
                </div>
                <div class="input-row">
                    <label data-lang-key="arena">Arena:</label>
                    <input type="number" id="arena" value="3" min="0" max="100" step="0.1">
                </div>
                <div class="input-row">
                    <label data-lang-key="mineral-hierro">Mineral de Hierro:</label>
                    <input type="number" id="hierro" value="2" min="0" max="100" step="0.1">
                </div>
            </div>

            <div class="panel-der">
                <h3 data-lang-key="resultados">Resultados de la Mezcla</h3>
                <div class="resultados">
                    <div class="resultado-item">
                        <span data-lang-key="costo-total">Costo total:</span>
                        <span class="valor-indice" id="costo-total">10.85 ‚Ç¨/t</span>
                    </div>
                    <div class="resultado-item">
                        <span data-lang-key="lsf">LSF:</span>
                        <span class="valor-indice" id="lsf-valor">95.2</span>
                        <span id="lsf-status" class="rango-ok">‚úî</span>
                    </div>
                    <div class="resultado-item">
                        <span data-lang-key="sm">M√≥dulo de S√≠lice (SM):</span>
                        <span class="valor-indice" id="sm-valor">2.45</span>
                        <span id="sm-status" class="rango-ok">‚úî</span>
                    </div>
                    <div class="resultado-item">
                        <span data-lang-key="am">M√≥dulo de Al√∫mina (AM):</span>
                        <span class="valor-indice" id="am-valor">1.52</span>
                        <span id="am-status" class="rango-ok">‚úî</span>
                    </div>
                    <div class="resultado-item" style="margin-top:15px;">
                        <strong data-lang-key="estado">Estado de la mezcla:</strong>
                        <span id="estado-global" class="rango-ok">√ìptima ‚úÖ</span>
                    </div>
                </div>

                <div style="margin-top:20px; font-size:0.9em; color:#666;">
                    <p><strong>F√≥rmulas usadas:</strong></p>
                    <p>LSF = CaO / (2.8¬∑SiO‚ÇÇ + 1.2¬∑Al‚ÇÇO‚ÇÉ + 0.65¬∑Fe‚ÇÇO‚ÇÉ)</p>
                    <p>SM = SiO‚ÇÇ / (Al‚ÇÇO‚ÇÉ + Fe‚ÇÇO‚ÇÉ)</p>
                    <p>AM = Al‚ÇÇO‚ÇÉ / Fe‚ÇÇO‚ÇÉ</p>
                </div>
            </div>
        </div>
    </main>

    <footer class="app-footer">
        <div class="contenido-pie">
            <p data-lang-key="copyright">&copy; Noviembre 2025 - Luis M. Salinas | Laboratorio Virtual de Procesos Minero-Cementeros</p>
            <div class="footer-links">
                <a href="#" data-lang-key="politica-privacidad">üîã Pol√≠tica de Privacidad</a>
                <a href="#" data-lang-key="terminos-uso">‚è≥ T√©rminos de Uso</a>
                <a href="#" data-lang-key="contacto-footer">üõÇ Contacto: Luis M. Salinas - Tecn√≥logo Electr√≥nico - UDO - Vzla</a>
                <a href="#" data-lang-key="telefono">‚òéÔ∏è Tel√©fono: +34 673 484 940</a>
                <a href="#" data-lang-key="soporte-tecnico">‚öíÔ∏è Soporte T√©cnico: Dise√±o y Confecci√≥n de P√°ginas Web | Desarrollo de Agentes y Workflows en Make</a>
                <a href="#" data-lang-key="email">üìß Email: lsalinasuban@gmail.com</a>
            </div>
        </div>
    </footer>

    <script>
        const translations = {
            'es': {
                'titulo': 'Laboratorio de Simulaci√≥n: Optimizaci√≥n de Mezcla Cruda',
                'descripcion': 'Simulaci√≥n con Solver para Planta Cementera',
                'intro': 'Ajusta las proporciones de materias primas para cumplir con los √≠ndices qu√≠micos √≥ptimos del cl√≠nker y minimizar costos. ¬°Este entorno emula c√≥mo usar Solver en Excel para optimizaci√≥n industrial!',
                'objetivos-titulo': 'Objetivos del Solver:',
                'materias-primas': 'Materias Primas',
                'material': 'Material',
                'costo': 'Costo (‚Ç¨/t)',
                'caliza': 'Caliza',
                'arcilla': 'Arcilla',
                'arena': 'Arena',
                'mineral-hierro': 'Mineral de Hierro',
                'proporciones': 'Proporciones (%)',
                'resultados': 'Resultados de la Mezcla',
                'costo-total': 'Costo total:',
                'lsf': 'LSF:',
                'sm': 'M√≥dulo de S√≠lice (SM):',
                'am': 'M√≥dulo de Al√∫mina (AM):',
                'estado': 'Estado de la mezcla:',
                'politica-privacidad': 'üîã Pol√≠tica de Privacidad',
                'terminos-uso': '‚è≥ T√©rminos de Uso',
                'contacto-footer': 'üõÇ Contacto: Luis M. Salinas - Tecn√≥logo Electr√≥nico - UDO',
                'telefono': '‚òéÔ∏è Tel√©fono: +34 673 484 940',
                'soporte-tecnico': '‚öíÔ∏è Soporte T√©cnico: Dise√±o y Confecci√≥n de P√°ginas Web | Desarrollo de Agentes y Workflows en Make',
                'email': 'üìß Email: lsalinasuban@gmail.com',
                'copyright': '&copy; Noviembre 2025 - Luis M. Salinas | Laboratorio Virtual de Procesos Minero-Cementeros'
            },
            'en': {
                'titulo': 'Simulation Lab: Raw Mix Optimization',
                'descripcion': 'Solver Simulation for Cement Plant',
                'intro': 'Adjust raw material proportions to meet optimal clinker chemical indices and minimize costs. This environment emulates how to use Excel Solver for industrial optimization!',
                'objetivos-titulo': 'Solver Objectives:',
                'materias-primas': 'Raw Materials',
                'material': 'Material',
                'costo': 'Cost (‚Ç¨/t)',
                'caliza': 'Limestone',
                'arcilla': 'Clay',
                'arena': 'Sand',
                'mineral-hierro': 'Iron Ore',
                'proporciones': 'Proportions (%)',
                'resultados': 'Mix Results',
                'costo-total': 'Total Cost:',
                'lsf': 'LSF:',
                'sm': 'Silica Modulus (SM):',
                'am': 'Alumina Modulus (AM):',
                'estado': 'Mix Status:',
                'politica-privacidad': 'üîã Privacy Policy',
                'terminos-uso': '‚è≥ Terms of Use',
                'contacto-footer': 'üõÇ Contact: Luis M. Salinas - Electronic Technologist - UDO',
                'telefono': '‚òéÔ∏è Phone: +34 673 484 940',
                'soporte-tecnico': '‚öíÔ∏è Technical Support: Web Design & Development | Make.com Agent & Workflow Development',
                'email': 'üìß Email: lsalinasuban@gmail.com',
                'copyright': '&copy; November 2025 - Luis M. Salinas | Virtual Mining-Cement Processes Lab'
            },
            'ca': {
                'titulo': 'Laboratori de Simulaci√≥: Optimitzaci√≥ de Mescla Crua',
                'descripcion': 'Simulaci√≥ amb Solver per a Planta Cimentera',
                'intro': 'Ajusta les proporcions de mat√®ries primeres per complir els √≠ndexs qu√≠mics √≤ptims del cl√≠nquer i minimitzar costos. Aquest entorn emula com usar el Solver d‚ÄôExcel per a optimitzaci√≥ industrial!',
                'objetivos-titulo': 'Objectius del Solver:',
                'materias-primas': 'Mat√®ries Primeres',
                'material': 'Material',
                'costo': 'Cost (‚Ç¨/t)',
                'caliza': 'Calc√†ria',
                'arcilla': 'Argila',
                'arena': 'Sorra',
                'mineral-hierro': 'Mineral de Ferro',
                'proporciones': 'Proporcions (%)',
                'resultados': 'Resultats de la Mescla',
                'costo-total': 'Cost total:',
                'lsf': 'LSF:',
                'sm': 'M√≤dul de S√≠lice (SM):',
                'am': 'M√≤dul d‚ÄôAl√∫mina (AM):',
                'estado': 'Estat de la mescla:',
                'politica-privacidad': 'üîã Pol√≠tica de Privacitat',
                'terminos-uso': '‚è≥ Condicions d‚Äô√ös',
                'contacto-footer': 'üõÇ Contacte: Luis M. Salinas - Tecn√≤leg Electr√≤nic - UDO',
                'telefono': '‚òéÔ∏è Tel√®fon: +34 673 484 940',
                'soporte-tecnico': '‚öíÔ∏è Suport T√®cnic: Disseny Web | Desenvolupament d‚ÄôAgents i Flows a Make',
                'email': 'üìß Correu: lsalinasuban@gmail.com',
                'copyright': '&copy; Novembre 2025 - Luis M. Salinas | Laboratori Virtual de Processos Minero-Cimenters'
            },
            'fr': {
                'titulo': 'Laboratoire de Simulation : Optimisation du M√©lange Brut',
                'descripcion': 'Simulation Solver pour Cimenterie',
                'intro': 'Ajustez les proportions de mati√®res premi√®res pour respecter les indices chimiques optimaux du clinker et minimiser les co√ªts. Cet environnement imite l‚Äôutilisation du Solveur Excel pour l‚Äôoptimisation industrielle !',
                'objetivos-titulo': 'Objectifs du Solveur :',
                'materias-primas': 'Mati√®res Premi√®res',
                'material': 'Mat√©riau',
                'costo': 'Co√ªt (‚Ç¨/t)',
                'caliza': 'Calcaire',
                'arcilla': 'Argile',
                'arena': 'Sable',
                'mineral-hierro': 'Minerai de Fer',
                'proporciones': 'Proportions (%)',
                'resultados': 'R√©sultats du M√©lange',
                'costo-total': 'Co√ªt total :',
                'lsf': 'LSF :',
                'sm': 'Module de Silice (SM) :',
                'am': 'Module d‚ÄôAlumine (AM) :',
                'estado': '√âtat du m√©lange :',
                'politica-privacidad': 'üîã Politique de Confidentialit√©',
                'terminos-uso': '‚è≥ Conditions d‚ÄôUtilisation',
                'contacto-footer': 'üõÇ Contact : Luis M. Salinas - Technologue √âlectronique - UDO',
                'telefono': '‚òéÔ∏è T√©l√©phone : +34 673 484 940',
                'soporte-tecnico': '‚öíÔ∏è Support Technique : Conception Web | D√©veloppement d‚ÄôAgents et Workflows sur Make',
                'email': 'üìß Email : lsalinasuban@gmail.com',
                'copyright': '&copy; Novembre 2025 - Luis M. Salinas | Laboratoire Virtuel des Proc√©d√©s Miniers-Cimentiers'
            }
        };

        // Composici√≥n qu√≠mica y costos
        const materiales = {
            caliza:   { CaO: 52.0, SiO2: 2.5,  Al2O3: 1.2,  Fe2O3: 0.3,  costo: 8  },
            arcilla:  { CaO: 5.0,  SiO2: 62.0, Al2O3: 18.0, Fe2O3: 5.0,  costo: 15 },
            arena:    { CaO: 1.0,  SiO2: 95.0, Al2O3: 2.0,  Fe2O3: 0.5,  costo: 10 },
            hierro:   { CaO: 3.0,  SiO2: 10.0, Al2O3: 5.0,  Fe2O3: 80.0, costo: 25 }
        };

        // Rangos √≥ptimos
        const rangos = {
            LSF: { min: 92, max: 98 },
            SM:  { min: 2.2, max: 2.8 },
            AM:  { min: 1.3, max: 1.8 }
        };

        function calcular() {
            const c = parseFloat(document.getElementById('caliza').value) || 0;
            const a = parseFloat(document.getElementById('arcilla').value) || 0;
            const s = parseFloat(document.getElementById('arena').value) || 0;
            const h = parseFloat(document.getElementById('hierro').value) || 0;

            const total = c + a + s + h;
            if (total === 0) return;

            // Normalizar a 100%
            const pC = c / total;
            const pA = a / total;
            const pS = s / total;
            const pH = h / total;

            // Composici√≥n ponderada
            const CaO = pC * materiales.caliza.CaO   + pA * materiales.arcilla.CaO   + pS * materiales.arena.CaO   + pH * materiales.hierro.CaO;
            const SiO2 = pC * materiales.caliza.SiO2 + pA * materiales.arcilla.SiO2 + pS * materiales.arena.SiO2 + pH * materiales.hierro.SiO2;
            const Al2O3 = pC * materiales.caliza.Al2O3 + pA * materiales.arcilla.Al2O3 + pS * materiales.arena.Al2O3 + pH * materiales.hierro.Al2O3;
            const Fe2O3 = pC * materiales.caliza.Fe2O3 + pA * materiales.arcilla.Fe2O3 + pS * materiales.arena.Fe2O3 + pH * materiales.hierro.Fe2O3;

            const costoTotal = pC * materiales.caliza.costo + pA * materiales.arcilla.costo + pS * materiales.arena.costo + pH * materiales.hierro.costo;

            // √çndices
            const LSF = CaO / (2.8 * SiO2 + 1.2 * Al2O3 + 0.65 * Fe2O3);
            const SM = SiO2 / (Al2O3 + Fe2O3);
            const AM = Al2O3 / Fe2O3;

            // Mostrar resultados
            document.getElementById('costo-total').textContent = costoTotal.toFixed(2) + ' ‚Ç¨/t';
            document.getElementById('lsf-valor').textContent = LSF.toFixed(1);
            document.getElementById('sm-valor').textContent = SM.toFixed(2);
            document.getElementById('am-valor').textContent = AM.toFixed(2);

            // Validar rangos
            const lsfOk = LSF >= rangos.LSF.min && LSF <= rangos.LSF.max;
            const smOk = SM >= rangos.SM.min && SM <= rangos.SM.max;
            const amOk = AM >= rangos.AM.min && AM <= rangos.AM.max;

            const updateStatus = (id, ok, value, rango) => {
                const el = document.getElementById(id);
                el.textContent = ok ? '‚úî' : '‚ö†';
                el.className = ok ? 'rango-ok' : 'rango-warning';
            };

            updateStatus('lsf-status', lsfOk, LSF, rangos.LSF);
            updateStatus('sm-status', smOk, SM, rangos.SM);
            updateStatus('am-status', amOk, AM, rangos.AM);

            const globalOk = lsfOk && smOk && amOk;
            document.getElementById('estado-global').textContent = globalOk ? 
                (document.body.classList.contains('theme-es') ? '√ìptima ‚úÖ' : 
                 document.body.classList.contains('theme-en') ? 'Optimal ‚úÖ' :
                 document.body.classList.contains('theme-ca') ? '√íptima ‚úÖ' : 'Optimale ‚úÖ') :
                (document.body.classList.contains('theme-es') ? 'Fuera de rango ‚ùå' : 
                 document.body.classList.contains('theme-en') ? 'Out of range ‚ùå' :
                 document.body.classList.contains('theme-ca') ? 'Fora de rang ‚ùå' : 'Hors limite ‚ùå');
            document.getElementById('estado-global').className = globalOk ? 'rango-ok' : 'rango-warning';
        }

        function setLanguage(lang) {
            const t = translations[lang];
            document.body.className = document.body.className.replace(/\btheme-\w+\b/g, '').trim();
            document.body.classList.add(`theme-${lang}`);

            // Actualizar texto
            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.dataset.langKey;
                if (t[key]) {
                    el.textContent = t[key];
                }
            });

            // Actualizar objetivos (est√°ticos por ahora)
            const obj = {
                es: { lsf: 'LSF entre 92‚Äì98', sm: 'M√≥dulo de s√≠lice (SM) entre 2.2‚Äì2.8', am: 'M√≥dulo de al√∫mina (AM) entre 1.3‚Äì1.8', mincost: 'Minimizar costo total por tonelada' },
                en: { lsf: 'LSF between 92‚Äì98', sm: 'Silica Modulus (SM) between 2.2‚Äì2.8', am: 'Alumina Modulus (AM) between 1.3‚Äì1.8', mincost: 'Minimize total cost per ton' },
                ca: { lsf: 'LSF entre 92‚Äì98', sm: 'M√≤dul de s√≠lice (SM) entre 2.2‚Äì2.8', am: 'M√≤dul d‚Äôal√∫mina (AM) entre 1.3‚Äì1.8', mincost: 'Minimitzar cost total per tona' },
                fr: { lsf: 'LSF entre 92‚Äì98', sm: 'Module de silice (SM) entre 2.2‚Äì2.8', am: 'Module d‚Äôalumine (AM) entre 1.3‚Äì1.8', mincost: 'Minimiser le co√ªt total par tonne' }
            }[lang];

            document.getElementById('obj-lsf').textContent = obj.lsf;
            document.getElementById('obj-sm').textContent = obj.sm;
            document.getElementById('obj-am').textContent = obj.am;
            document.getElementById('obj-mincost').textContent = obj.mincost;

            // Botones de idioma
            document.querySelectorAll('.language-selector button').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });

            localStorage.setItem('userLang', lang);
            calcular(); // Actualizar con nuevo idioma (por los mensajes de estado)
        }

        document.addEventListener('DOMContentLoaded', () => {
            const savedLang = localStorage.getItem('userLang') || 'es';
            setLanguage(savedLang);

            // Eventos de cambio
            ['caliza', 'arcilla', 'arena', 'hierro'].forEach(id => {
                document.getElementById(id).addEventListener('input', calcular);
            });

            // Botones de idioma
            document.querySelectorAll('.language-selector button').forEach(btn => {
                btn.addEventListener('click', () => setLanguage(btn.dataset.lang));
            });

            calcular();
        });
    </script>
</body>
</html>